@using Hoist.Models.Enums;
<!-- ========== App Menu ========== -->
@{
    bool isAdmin = User.IsInRole(nameof(BTRoles.Admin));
    bool isProjectManager = User.IsInRole(nameof(BTRoles.ProjectManager));

}

<div class="app-menu navbar-menu">
    <!-- LOGO -->
    <div class="navbar-brand-box">


        <!-- Dark Logo-->
        <a href="@Url.Action("Index", "Dashboard")" class="logo logo-dark">
            <span class="logo-sm">
                <img src="~/assets/images/logo-sm.png" alt="" height="22">
            </span>
            <span class="logo-lg">
                <img src="~/assets/images/logo-dark.png" alt="" height="17">
            </span>
        </a>
        <!-- Light Logo-->
        <a href="@Url.Action("Index", "Dashboard")" class="logo logo-light">
            <span class="logo-sm">
                <img src="~/assets/images/logo-sm.png" alt="" height="22">
            </span>
            <span class="logo-lg">
                <img src="~/assets/images/logo-light.png" alt="" height="17">
            </span>
        </a>
        <button type="button" class="btn btn-sm p-0 fs-20 header-item float-end btn-vertical-sm-hover" id="vertical-hover">
            <i class="ri-record-circle-line"></i>
        </button>
    </div>

    <div id="scrollbar">
        <div class="container-fluid">

            <div id="two-column-menu">
            </div>
            <ul class="navbar-nav" id="navbar-nav">
                <li class="menu-title"><span data-key="t-menu">Menu</span></li>
                <li class="nav-item">
                    <a class="nav-link menu-link pe-0" href="@Url.Action( "Dashboard", "Home")" role="button"
                       aria-expanded="false" aria-controls="sidebarDashboards">
                        <i class="ri-dashboard-2-line"></i> <span>Dashboard</span>
                    </a>
                </li> <!-- end Dashboard Menu -->
                <li class="nav-item">
                    <a class="nav-link menu-link" href="#sidebarApps" data-bs-toggle="collapse"
                       role="button" aria-expanded="false" aria-controls="sidebarApps">
                        <i class="ri-pages-line"></i> <span data-key="t-apps">Projects</span>
                    </a>
                    <div class="collapse menu-dropdown" id="sidebarApps">
                        <ul class="nav nav-sm flex-column">
                            @if (isAdmin || isProjectManager)
                            {
                                <li class="nav-item">
                                    <a href="@Url.Action("Create", "Projects")" class="nav-link" data-key="t-chat"> Create Project </a>
                                </li>
                            }
                            <li class="nav-item">
                                <a href="@Url.Action("Index", "Projects")" class="nav-link" data-key="t-calendar"> All Projects </a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("MyProjects", "Projects")" class="nav-link" data-key="t-chat"> My Projects </a>
                            </li>
                            @if (isAdmin || isProjectManager)
                            {
                             <li class="nav-item">
                                <a href="@Url.Action("ArchivedProjects", "Projects")" class="nav-link" data-key="t-chat"> Archived Projects </a>
                            </li>   
                            }
                        </ul>

                    </div>
                <li class="nav-item">
                    <a class="nav-link menu-link" href="#sidebarLayouts" data-bs-toggle="collapse" role="button"
                       aria-expanded="false" aria-controls="sidebarLayouts">
                        <i class="ri-layout-3-line"></i> <span data-key="t-layouts">Tickets</span>
                    </a>
                    <div class="collapse menu-dropdown" id="sidebarLayouts">
                        <ul class="nav nav-sm flex-column">
                            <li class="nav-item">
                                <a href="@Url.Action("Index", "Tickets")"  class="nav-link" data-key="t-horizontal">All Tickets</a>
                            </li>
                            <li class="nav-item">
                                <a href="@Url.Action("MyTickets", "Tickets")"  class="nav-link" data-key="t-detached">My Tickets</a>
                            </li>
                                @if (isAdmin || isProjectManager)
                                {
                                <li class="nav-item">
                                    <a href="@Url.Action("ArchivedTickets", "Tickets")" class="nav-link" data-key="t-detached">Archived Tickets</a>
                                </li>
                                }

                        </ul>
                    </div>
                </li>
                
                    @if (isAdmin)
                    {
                        
                    <li class="nav-item">
                    <a class="nav-link menu-link pe-0" href="@Url.Action( "Create", "Invites")" role="button"
                       aria-expanded="false" aria-controls="sidebarDashboards">
                        <i class="ri-mail-add-line"></i> <span>Invite to Company</span>
                    </a>
                </li>
                    }
                <!-- end Dashboard Menu -->

                <li class="menu-title"><i class="ri-more-fill"></i> <span data-key="t-pages">Pages</span></li>

            </ul>
        </div>
        <!-- Sidebar -->
    </div>
</div>
<!-- Left Sidebar End -->
<!-- Vertical Overlay-->
<div class="vertical-overlay"></div>